<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript">
        window.onload = function () {
            var ul = document.getElementById("ul");
            /**
             * 点击按钮后添加超链接
             */
            var btn01 = document.getElementById("btn01");
            btn01.onclick = function () {
                //创建一个li
                var li = document.createElement("li");
                li.innerHTML = "<a href='javascript:;' class='link'>新建超链接</a>";

                //将li添加到u1中
                ul.appendChild(li);
            }

            /**
             * 为每一个超链接绑定一个单击响应函数
             * 只能为已有的超链接设置事件，而新添加的超链接必须重新绑定
             */
            var allA = document.getElementsByTagName("a");
            /*for (var i=0; i<allA.length; i++){
                allA[i].onclick = function () {
                    console.log(this.innerHTML);
                }
            } */
            /**
             * 希望只绑定一次事件，就可以应用到多个元素上，即使元素时后添加的
             * 可以尝试将事件其绑定给元素的共同的祖先元素，子元素事件触发时由祖先元素的响应函数来处理
             *
             * 事件的委派：
             *  - 指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件触发时，会一直冒泡到祖先元素，从而通过祖先元素的响应函数来处理事件
             *  - 事件委派利用了冒泡，减少事件绑定的次数，提供程序的性能
             */
            ul.onclick = function (event) {
                event = event || window.event;
                /**
                 * target
                 *  - event中的target表示触发事件的对象
                 */
                //console.log(event.target);
                //如果触发事件的对象是期望的元素则执行，否则不执行
                if (event.target.className == "link") {
                    console.log("我是ul的单击响应函数");
                }
            }
        }
    </script>
</head>
<body>
    <button id="btn01">添加超链接</button>
    <ul  id="ul">
        <li><a href="javascript:;" class="link">超链接1</a></li>
        <li><a href="javascript:;" class="link">超链接2</a></li>
        <li><a href="javascript:;" class="link">超链接3</a></li>
    </ul>
</body>
</html>