<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--如果需要兼容IE7及以下的JSON操作，则可以引入一个外部的JS文件来处理-->
    <script type="text/javascript" src="js/json2.js"></script>
    <script type="text/javascript">
        /**
         * JSON：JavaScript Object Notation
         *  - JS中的对象只有JS认识，其他语言不认识
         *  - JSON就是一个特殊格式的字符串，这个字符串可以被任意语言识别，并转化任意语言对象
         *  - JSON用于不同语言之间数据的传递
         *  - JSON和JS对象的格式一样，只是JSON字符串中的属性名必须加双引号
         *  - 分类：
         *      1.对象{}
         *      2.数组[]
         *   - JSON中允许的值：
         *      1.字符串
         *      2.数值
         *      3.布尔值
         *      4.null
         *      5.对象
         *      6.数组
         */
        var obj1 = '{"name":"tom","age":18,"gender":"make"}';
        var arr1 = '[1,2,3,"hello",true]';

        /**
         * JSON：将JSON字符串与JS中的对象相互转换，不支持IE7及以下
         *  - JSON.parse()：将JSON字符串转换为JS对象，返回对象
         *  - JSON.stringify()：将JS对象转换为JSON，返回字符串
         */
        var obj2  = JSON.parse(obj1);
        console.log(obj2.name); //输出tom
        var arr2 = JSON.parse(arr1);
        console.log(arr2[0]); //输出1

        var obj3 = {"name":"tom","age":18,"gender":"make"};
        var str1 = JSON.stringify(obj3);
        console.log(str1); //输出{"name":"tom","age":18,"gender":"make"}

        /**
         * eval()：执行一段字符串形式的JS代码，并将执行结果返回
         *  - 如果使用eval()执行的字符串中含所有{}，它会将{}当成代码块
         *  - 如果不希望将其当成代码块解析，则需要在字符串前后各家一个()
         *  - 开发中尽量不要使用，执行性能较差，有安全隐患
         */
        var str2 = '{"name":"tom","age":18,"gender":"make"}';
        var obj = eval("(" + str2 + ")");
        console.log(obj); //输出对象
    </script>
</head>
<body>

</body>
</html>